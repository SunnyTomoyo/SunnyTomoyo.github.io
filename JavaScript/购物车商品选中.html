<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../粒子弹跳的文字特效/js/timeball.js"></script>
</head>
<body>
<p id="all">
    全选<input type="checkbox">
</p>
<p id="each">
    商品1  <input type="checkbox"> <br>
    商品2  <input type="checkbox"> <br>
    商品3  <input type="checkbox"> <br>
    商品4  <input type="checkbox"> <br>
    商品5  <input type="checkbox"> <br>
    商品6  <input type="checkbox"> <br>
</p>
<script>
    var all = document.getElementById('all')
    var allInp = all.children[0]
    console.log(allInp)


    var each = document.getElementById('each')
    var eachInps = each.getElementsByTagName('input')
    console.log(eachInps)

    allInp.onclick = function () {

//        循环给each中的元素 赋 all中的input的选中状态
        for(var i =0;i<eachInps.length;i++){
            eachInps[i].checked = allInp.checked
        }

    }

//    循环给每一个each中的元素注册事件
    for(var i =0;i<eachInps.length;i++){
        eachInps[i].onclick = function () {
//          每次点击完毕 重置count的值
            var count = 0
//            循环判断每个each中input的值 如果有选中的 就让count自加
            for(var j =0;j<eachInps.length;j++){
                if(eachInps[j].checked){
                    count++
                    console.log(count)
                }

            }
//            判断选中元素的个数 控制全选按钮的样式
            if(count == eachInps.length){
                allInp.checked = true
            }else {
                allInp.checked = false
            }
        }
    }
</script>
</body>
</html>